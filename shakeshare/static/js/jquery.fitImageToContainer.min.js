(function(a){var b={init:function(b){var c={fit:true,complete:function(a){}};var d=a.extend({},c,b);return this.each(function(){var b=a(this);var c=b.find("img");c.bind("load",function(){a(this).css({width:"",height:"","margin-left":"","margin-top":""});var c=a(this).width();var e=a(this).height();var f=b.innerWidth();var g=b.innerHeight();var h,i;if(d.fit){if(c>=f&&e>=g){h=1/(c/f);i=1/(e/g)}else{h=f/c;i=g/e}if(h<i){c=parseInt(i*c);e=parseInt(i*e)}else{c=parseInt(h*c);e=parseInt(h*e)}if(c>f){var j=parseInt((f-c)/2);a(this).css("margin-left",j+"px")}else{var k=parseInt((g-e)/2);a(this).css("margin-top",k+"px")}}else{h=f/c;i=g/e;if(h>i){c=parseInt(i*c);e=parseInt(i*e)}else{c=parseInt(h*c);e=parseInt(h*e)}if(c<f){var j=parseInt((f-c)/2);a(this).css("margin-left",j+"px")}else{var k=parseInt((g-e)/2);a(this).css("margin-top",k+"px")}}a(this).width(c);a(this).height(e);if(typeof d.complete=="function")d.complete(a(this))}).each(function(){if(this.complete)c.load()})})}};a.fn.fitImageToContainer=function(c){if(b[c]){return b[c].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof c==="object"||!c){return b.init.apply(this,arguments)}else{a.error("Method "+c+" does not exist on jQuery.fitImageToContainer")}}})(jQuery)